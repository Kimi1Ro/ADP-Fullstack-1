<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Categories</title>
    <script src="react.development.js"></script>
    <script src="react-dom.development.js"></script>
    <script src="babel.min.js"></script>

    <script type="text/babel">
        function App(){
            let [selectedCategory, setSelectedCategory] = React.useState('');
            let catalog = {
                "Stationary" : ["Pen", "Pencil", "Marker"],
                "Electronics" : ["Laptop", "Mous"],
                "Utencils" : ["Pan"]
            }
            const categoryNames = Object.keys(catalog);
            
            const categorySelected = (cn) => {
                setSelectedCategory(cn);
            };

            return (
                <>
                    <Categories list={categoryNames} onCategorySelected={categorySelected}/>
                    <Products productNames={ catalog[selectedCategory] || [] }/>
                </>
            )
        }
        function Categories(props){
    
            const categoryButtons = props.list.map(categoryName => (
                <button 
                    key={categoryName}
                    onClick={() => props.onCategorySelected(categoryName)}
                >{categoryName} - [0]</button>
            ))
            return (
                <div>
                    <h3>Categories</h3>
                     <div>
                        <label htmlFor="">New Category:</label>
                        <input type="text" name="" id=""/>
                        <button>Add</button>
                    </div>
                    <div>
                        { categoryButtons }
                    </div>
                </div>
            )
        }
        function Products(props){
            const productItems = props.productNames.map((productName, idx) => (<li key={idx}><span>{productName}</span><button>Remove</button></li>))
            return (
                <div>
                    <h3>Products</h3>
                    <h4>Category : ?</h4>
                    <div>
                        <label htmlFor="">New Product:</label>
                        <input type="text" name="" id=""/>
                        <label htmlFor="">Category :</label>
                        <select name="" id="">
                            <option value=""></option>
                            <option value=""></option>
                            <option value=""></option>
                        </select>
                        <button>Add</button>
                    </div>
                    <ul>
                        {productItems}
                    </ul>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App/>)
    </script>
</head>
<body>
    <h1>Catalog</h1>
    <hr>
    <div id="root">

    </div>
    
</body>
</html>